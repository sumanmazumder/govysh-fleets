<!-- <p>account works!</p> -->
<div class="loader" *ngIf="loader">
  <mat-spinner></mat-spinner>
</div>

<div class="row">
  <div class="col-lg-6 mb-4">
    <div class="heading d-flex align-items-center justify-content-between ">
      <h3 class="mb-0">Account details</h3>
      <button (click)="fleetEdit()" class="btn btn-primary">Edit</button>
    </div>
      <form [formGroup]="fleetDetailsForm">
          <div class="row">
            <div class="col-lg-12">
              <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Company Name</mat-label>
                <input matInput type="text" placeholder="text" name="companyName" formControlName="companyName" />
                <mat-error *ngIf="fleetDetailsForm.touched && fleetDetailsForm.get('companyName')?.hasError('required')">Company Name required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-12">
              <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Email</mat-label>
                <input matInput type="email" placeholder="Email" name="email" formControlName="email" />
                <mat-error *ngIf="fleetDetailsForm.touched && fleetDetailsForm.get('email')?.hasError('required')">Email required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-12">
              <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Phone</mat-label>
                <input matInput type="number" placeholder="Phone" name="phone" formControlName="phone" />
                <mat-error *ngIf="fleetDetailsForm.touched && fleetDetailsForm.get('phone')?.hasError('required')">Phone required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-12">
              <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Stripe customer id</mat-label>
                <input matInput type="text" placeholder="stripeCustId" name="stripeCustId" formControlName="stripeCustId" />
                <mat-error *ngIf="fleetDetailsForm.touched && fleetDetailsForm.get('stripeCustId')?.hasError('required')">Stripe customer id required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-12">
              <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Address</mat-label>
                <input matInput type="text" placeholder="Address" name="address" formControlName="address" />
                <mat-error *ngIf="fleetDetailsForm.touched && fleetDetailsForm.get('address')?.hasError('required')">Address required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-12">
              <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Postal code</mat-label>
                <input matInput type="text" placeholder="Postal Code" name="postalCode" formControlName="postalCode" />
                <mat-error *ngIf="fleetDetailsForm.touched && fleetDetailsForm.get('postalCode')?.hasError('required')">Postal code required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-12">
              <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Commission rate</mat-label>
                <input matInput type="text" placeholder="commissionRate" name="commissionRate" formControlName="commissionRate" />
                <mat-error *ngIf="fleetDetailsForm.touched && fleetDetailsForm.get('commissionRate')?.hasError('required')">Commission rate required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-12">
              <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Number of vehicles</mat-label>
                <input matInput type="number" placeholder="numberOfVehicles" name="numberOfVehicles" formControlName="numberOfVehicles" />
                <mat-error *ngIf="fleetDetailsForm.touched && fleetDetailsForm.get('numberOfVehicles')?.hasError('required')">Number of vehicles required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-12">
              <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Type of vehicles</mat-label>
                <input matInput type="text" placeholder="Type of vehicles" name="typeOfVehicles" formControlName="typeOfVehicles" />
                <mat-error *ngIf="fleetDetailsForm.touched && fleetDetailsForm.get('typeOfVehicles')?.hasError('required')">Type of vehicles required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-12">
              <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Number of drivers</mat-label>
                <input matInput type="number" placeholder="Number of drivers" name="numberOfDrivers" formControlName="numberOfDrivers" />
                <mat-error *ngIf="fleetDetailsForm.touched && fleetDetailsForm.get('numberOfDrivers')?.hasError('required')">Number of drivers required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-12">
              <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Contact person name</mat-label>
                <input matInput type="text" placeholder="Contact person name" name="contactPersonName" formControlName="contactPersonName" />
                <mat-error *ngIf="fleetDetailsForm.touched && fleetDetailsForm.get('contactPersonName')?.hasError('required')">Contact person name required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-12">
              <mat-form-field appearance="outline" class="example-full-width">
                <mat-label>Status</mat-label>
                <mat-select formControlName="status">
                  <mat-option *ngFor="let status of status" [value]="status.value">
                    {{status.viewValue}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
          <button *ngIf="accountEditable" (click)="accountSubmitHandeler()" [disabled]="!fleetDetailsForm.valid" class="btn btn-primary">Submit</button>
          <!-- <button *ngIf="data?.fleetId && !data?.fleetView" (click)="fleetSubmitHandeler()" [disabled]="!fleetDetailsForm.valid" class="btn btn-primary">Save Fleets</button> -->
        </form>
  </div>
</div>
